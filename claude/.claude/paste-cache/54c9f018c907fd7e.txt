---
title: Family Office Backend Architecture
---

erDiagram
    %% Enums (shown as notation)
    
    %% Tables
    equity {
        UUID id PK
        DATE month
        owner_type owner
        country_type country
        broker_type broker
        DECIMAL invested
        DECIMAL current_value
        DECIMAL added
        DECIMAL withdrawn
        TEXT notes
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    mutual_funds {
        UUID id PK
        DATE month
        owner_type owner
        broker_type broker
        DECIMAL invested
        DECIMAL current_value
        DECIMAL added
        DECIMAL withdrawn
        TEXT notes
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    gold {
        UUID id PK
        DATE month
        owner_type owner
        DECIMAL invested
        DECIMAL current_value
        DECIMAL added
        DECIMAL withdrawn
        TEXT notes
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    crypto {
        UUID id PK
        DATE month
        owner_type owner
        exchange_type exchange
        DECIMAL invested
        DECIMAL current_value
        DECIMAL added
        DECIMAL withdrawn
        TEXT notes
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    cash {
        UUID id PK
        DATE month
        owner_type owner
        TEXT account
        DECIMAL balance
        TEXT notes
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    debt {
        UUID id PK
        owner_type owner
        TEXT bank
        DECIMAL principal
        DECIMAL interest_rate
        DECIMAL current_value
        DATE maturity_date
        TEXT notes
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    real_estate {
        UUID id PK
        TEXT name
        owner_type owner
        DECIMAL purchase_value
        DECIMAL current_value
        TEXT notes
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }

    %% SQL View
    net_worth_summary {
        TEXT asset_type
        DECIMAL total_value
    }